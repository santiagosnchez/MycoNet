evaluate = read.table("tmp_eval.txt", head=F)
head(evaluate)
evaluate = cbind(epoch=1:dim(evaluate)[1], evaluate)
head(evaluate)
colnames(evaluate)[2:5] = c("train_loss","train_accuracy","val_loss","val_accuracy")
head(evaluate)
library(ggplot2)
quit()
library(ggplot2)
ls()
head(evaluate)
library(tidyr)
?gather
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("loss","accuracy"), "(train|val)_(loss_accuracy)")
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("loss","accuracy"), "(train|val)_(loss|accuracy)")
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("loss","accuracy"), "(train|val)_(loss|accuracy)") %>% spread(loss, value)
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("training","validation"), "(train|val)_(loss|accuracy)") %>% spread(training, value)
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("training","validation","loss","accuracy"), "(train)|(val)_(loss)|(accuracy)") %>% spread(training, value)
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("training","validation","loss","accuracy"), "(train)(val)_(loss)(accuracy)") %>% spread(training, value)
evaluate %>% gather(key, value, -epoch)
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("training_testing","evaluation"), "(train|val)_(loss|accuracy)") %>% spread(evaluation, value)
evaluate %>% gather(key, value, -epoch) %>% extract(key, c("training_testing","evaluation"), "(train|val)_(loss|accuracy)") %>% spread(evaluation, value) -> df.evaluate
head(df.evaluate)
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line()
library(cowplot)
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line()
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_log10()
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6))
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_manual()
library(rColorBrewer)
library(RColorBrewer)
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_viridis_d()
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer("Set1")
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer("Set2")
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer("Set3")
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1")
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation"))
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid()
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", major.color="grey90")
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey90")
?background_grid
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey90", minor="none")
ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none")
loss = ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none")
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none")
plot_grid(loss, accu)
loss = ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point(show.legend=F) + geom_line(show.legend=F) + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none")
plot_grid(loss, accu)
plot_grid(loss, accu, rel_widths=c(0.4,0.6))
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.8,0.3))
plot_grid(loss, accu)
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3))
plot_grid(loss, accu)
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3), legend.background=element_rect(color="white"))
plot_grid(loss, accu)
?theme
?element_rect
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3), legend.background=element_rect(fill="white", linetype=1))
plot_grid(loss, accu)
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3), legend.background=element_rect(fill="white", color="black"))
plot_grid(loss, accu)
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3), legend.background=element_rect(fill="white", colour="black"))
plot_grid(loss, accu)
?theme
?theme
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3), legend.box.background=element_rect(fill="white", colour="black"))
plot_grid(loss, accu)
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3), legend.background=element_rect(fill="grey75"))
plot_grid(loss, accu)
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point() + geom_line() + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.5,0.3), legend.background=element_rect(fill="grey75"), legend.title=element_blank())
plot_grid(loss, accu)
accu = ggplot(df.evaluate, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + geom_point(show.legend=F) + geom_line(show.legend=F) + scale_y_continuous(breaks=seq(0,1,0.1)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none")
loss = ggplot(df.evaluate, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + geom_point(show.legend=T) + geom_line(show.legend=T) + scale_y_continuous(breaks=c(0.5,1:6)) + scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + background_grid(major="xy", colour.major="grey80", minor="none") + theme(legend.position=c(0.6,0.8), legend.title=element_blank(), legend.background=element_rect(fill="grey80")
)
plot_grid(loss, accu)
ggsave(device="png", file="LTSM_UNITE.loss_accuracy_vs_epoch.png")
pwd()
pwd
getwd()
quit()
library(ggplot2)
library(cowplot)
library(scales)
library(tidyr)
library(dplyr)
dir = getwd()
history = read.csv(paste0(dir,"/history.csv"), head=F)
history = cbind(epoch=1:dim(history)[1], history)
colnames(history) = c("epoch","loss_train","accu_train","loss_val","accu_val")
history %>% 
    gather(key, value, -epoch) %>% 
    extract(key, c("training_testing","evaluation"), "(loss|accu)_(train|val)") -> tmp
head(tmp)
history %>% 
    gather(key, value, -epoch) %>% 
    extract(key, c("eval","set"), "(loss|accu)_(train|val)") %>%
    spread(eval, value) -> df.history
colnames(history) = c("epoch","loss_training","accuracy_training","loss_testing","accuracy_testing")
history %>% 
    gather(key, value, -epoch) %>% 
    extract(key, c("eval","set"), "(loss|accuracy)_(training|testing)") %>%
    spread(eval, value) -> df.history
library(RColorBrewer)
loss = ggplot(df.history, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + 
geom_point(show.legend=T) + 
geom_line(show.legend=T) + 
scale_ycontinuous(breaks=c(0.5,1:6)) + 
scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + 
background_grid(major="xy", colour.major="grey80", minor="none") + 
theme(legend.position=c(0.6,0.8), 
legend.title=element_blank(), 
legend.background=element_rect(fill="grey80"))
accu = ggplot(df.history, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + 
geom_point(show.legend=F) + 
geom_line(show.legend=F) + 
scale_ycontinuous(limits=c(0,1)) + 
scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + 
background_grid(major="xy", colour.major="grey80", minor="none")
loss = ggplot(df.history, aes(x=epoch, y=loss, color=training_testing, group=training_testing)) + 
geom_point(show.legend=T) + 
geom_line(show.legend=T) + 
scale_y_continuous(breaks=c(0.5,1:6)) + 
scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + 
background_grid(major="xy", colour.major="grey80", minor="none") + 
theme(legend.position=c(0.6,0.8), 
legend.title=element_blank(), 
legend.background=element_rect(fill="grey80"))
accu = ggplot(df.history, aes(x=epoch, y=accuracy, color=training_testing, group=training_testing)) + 
geom_point(show.legend=F) + 
geom_line(show.legend=F) + 
scale_y_continuous(limits=c(0,1)) + 
scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + 
background_grid(major="xy", colour.major="grey80", minor="none")
plot_grid(loss, accu)
loss = ggplot(df.history, aes(x=epoch, y=loss, color=set, group=set)) + 
geom_point(show.legend=T) + 
geom_line(show.legend=T) + 
scale_y_continuous(breaks=c(0.5,1:6)) + 
scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + 
background_grid(major="xy", colour.major="grey80", minor="none") + 
theme(legend.position=c(0.6,0.8), 
legend.title=element_blank(), 
legend.background=element_rect(fill="grey80"))
accu = ggplot(df.history, aes(x=epoch, y=accuracy, color=set, group=set)) + 
geom_point(show.legend=F) + 
geom_line(show.legend=F) + 
scale_y_continuous(limits=c(0,1)) + 
scale_color_brewer(palette="Set1", name="", labels=c("training","validation")) + 
background_grid(major="xy", colour.major="grey80", minor="none")
plot_grid(loss, accu)
plot_grid(loss, accu)
quit()
